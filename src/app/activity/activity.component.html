<form>
  <fieldset>
    <legend>Podstawowe dane interwencji</legend>
    <div class="form-group">
      <label for="dateTime">Data i czas interwencji</label>
      <input type="text" class="form-control" [(ngModel)]="activity.dateTime" name="dateTime" id="dateTime">
      <small class="form-text text-muted">Czas interwencji jest nieobowiązkowy</small>
    </div>
    <div class="form-group">
      <label for="situationDescription">Opis zastanej sytuacji</label>
      <textarea class="form-control" [(ngModel)]="activity.situationDescription" name="situationDescription" id="situationDescription"></textarea>
      <small class="form-text text-muted">Zastana sytuacja poczas interwencji</small>
    </div>
    <div class="form-group">
      <label for="activities">Aktywności</label>
      <textarea class="form-control" [(ngModel)]="activity.activities" name="activities" id="activities"></textarea>
      <small class="form-text text-muted">Opis podjętych działań</small>
    </div>
    <div class="form-group">
      <label for="usedResources">Użyte zasoby</label>
      <textarea class="form-control" [(ngModel)]="activity.usedResources" name="usedResources" id="usedResources"></textarea>
      <small class="form-text text-muted">Lista użytych zasobów do przeprowadzenia interwencji</small>
    </div>
    <div class="form-group">
      <label for="estimatedCost">Użyte zasoby</label>
      <input type="number" class="form-control" [(ngModel)]="activity.estimatedCost" name="estimatedCost" id="estimatedCost">
      <small class="form-text text-muted">Lista użytych zasobów do przeprowadzenia interwencji</small>
    </div>
  </fieldset>
  <fieldset>
    <legend>Uczestnicy</legend>
    <table class="table table-striped table-hover">
      <tbody>
        <tr>
          <th>Imię i nazwisko</th>
          <th>Adres E-Mail</th>
          <th>Stanowisko</th>
          <th></th>
        </tr>
        <tr *ngFor="let participant of activity.participants">
          <td>{{participant.name}} {{participant.surname}}</td>
          <td>{{participant.email}}</td>
          <td>{{participant.role}}</td>
          <td><button type="button" class="btn btn-danger" (click)="removeUserFromActivity(participant)"><i class="fa fa-trash"></i></button></td>
        </tr>
        <tr [hidden]="!addUserFormVisible">
          <td><input type="text" class="form-control" [(ngModel)]="newParticipant.name" name="newParticipantName"></td>
          <td><input type="text" class="form-control" [(ngModel)]="newParticipant.email" name="newParticipantEmail"></td>
          <td><input type="text" class="form-control" [(ngModel)]="newParticipant.surname" name="newParticipantSurname"></td>
          <td>
            <button class="btn btn-success" (click)="addUserToActivity()"><i class="fa fa-check"></i></button>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4">
            <button type="button" class="btn btn-success" (click)="addUserFormVisible = !addUserFormVisible"><i class="fa fa-plus-circle"></i> Dodaj użytkownika</button>
          </td>
        </tr>
      </tfoot>
    </table>
  </fieldset>
  <div class="text-right">
    <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i> Zapisz</button>
  </div>
</form>
